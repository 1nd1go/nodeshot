<div class="dialog-form ui-widget">
    <form id="recoverpassword-form" class="ui-corner-all ui-widget-content" method="post" action="">
    {% csrf_token %}
    {% if sent %}
        <h1>Password inviata con successo</h1>
        <p>DEBUG: {{ sent }}</p>
        <p>TODO: inviare email con nuova password.</p>
        <br />
        </fieldset>
    {% else %}
        <h1>Recupera la password del nodo "{{ node.name }}"</h1>
        <label for="id_password">Inserisci una delle email dei responsabili del nodo:</label>
        {% if form.email.errors or form.non_field_errors %}
            <div class="ui-state-error">
            {{ form.email.errors }}
            {{ form.non_field_errors }}
            </div>
        {% endif %}
        <p>{{ form.email }}</p>
        <p style="overflow:hidden">
            <input id="recoverpassword-form-submit" class="submit-button ui-priority-primary ui-corner-all ui-state-disabled hover" type="submit" value="Invia" />
            <input id="recoverpassword-form-cancel" class="cancel-button ui-priority-primary ui-corner-all ui-state-disabled hover" type="button" value="Annulla" />
        </p>
    {% endif %}
    </form>
</div>
    
<script>
    $('#recoverpassword-form-submit, #recoverpassword-form-cancel').button();
    var inputs = $("#recoverpassword-form").find("input , select ,textarea");
    $.each(inputs,function(){
        $(this).bind({
            focusin: function() {
               $(this).toggleClass('ui-state-focus');
            },
            focusout: function() {
                $(this).toggleClass('ui-state-focus');
            }
        });
    });
</script>


